(function(){"use strict";var e={8248:function(e,t,r){var o=r(5130),s=r(6768);const n={id:"app"};function l(e,t,r,o,l,c){const a=(0,s.g2)("app-navigation"),i=(0,s.g2)("router-view"),d=(0,s.g2)("app-alert");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("header",null,[(0,s.bF)(a)]),(0,s.Lk)("main",null,[(0,s.bF)(i)]),(0,s.bF)(d),t[0]||(t[0]=(0,s.Lk)("footer",null,[(0,s.Lk)("p",null,"Â© 2024 | Mares Pradana | Product Management with Vue.js")],-1))])}var c=r(4232);const a={class:"bg-slate-100 p-4"},i={class:"container mx-auto flex items-center justify-between"},d={class:"lg:hidden ml-auto"};function u(e,t,r,o,n,l){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("nav",a,[(0,s.Lk)("div",i,[t[3]||(t[3]=(0,s.Lk)("a",{href:"/",class:"text-dark text-2xl font-bold"},"Demo",-1)),(0,s.Lk)("div",d,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleMenu&&l.toggleMenu(...e)),class:"text-dark focus:outline-none"},t[1]||(t[1]=[(0,s.Lk)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))]),t[4]||(t[4]=(0,s.Fv)('<div class="flex items-center space-x-4" data-v-1111b02e><div class="hidden lg:flex lg:items-center" data-v-1111b02e><a href="/" class="text-dark px-4 py-2" data-v-1111b02e>Home</a></div><div class="hidden lg:flex lg:items-center" data-v-1111b02e><a href="/create" class="bg-green-500 text-white px-7 py-2 rounded hover:bg-green-600 transition-colors rounded-full" data-v-1111b02e> Create Product </a></div></div>',1)),(0,s.Lk)("div",{class:(0,c.C4)([{block:n.isMenuOpen,hidden:!n.isMenuOpen},"lg:hidden absolute bg-slate-100 top-16 left-0 w-full p-4 shadow-lg"])},t[2]||(t[2]=[(0,s.Lk)("a",{href:"/",class:"text-dark px-4 py-2 block"},"Home",-1),(0,s.Lk)("a",{href:"/create",class:"bg-green-500 text-white text-center py-2 block rounded-full hover:bg-green-600 transition-colors mt-4"}," Create Product ",-1)]),2)])])])}var p={data(){return{isMenuOpen:!1}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen}}},m=r(1241);const h=(0,m.A)(p,[["render",u],["__scopeId","data-v-1111b02e"]]);var f=h;const g={class:"flex flex-col"},b={class:"font-bold"},k={class:"block sm:inline"};function v(e,t,r,o,n,l){return l.alert.show?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,c.C4)([l.alertClasses,"fixed bottom-4 right-4 max-w-xs px-4 py-3 rounded-lg shadow-lg"]),role:"alert"},[(0,s.Lk)("div",g,[(0,s.Lk)("strong",b,(0,c.v_)(l.alert.title),1),(0,s.Lk)("span",k,(0,c.v_)(l.alert.message),1)]),(0,s.Lk)("span",{onClick:t[0]||(t[0]=(...e)=>l.closeAlert&&l.closeAlert(...e)),class:"absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer"},t[1]||(t[1]=[(0,s.Lk)("svg",{class:"fill-current h-6 w-6",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s.Lk)("title",null,"Close"),(0,s.Lk)("path",{d:"M14.348 5.652a.5.5 0 10-.707-.707L10 8.586 6.36 4.945a.5.5 0 10-.707.707L9.293 10l-3.64 3.64a.5.5 0 00.707.707L10 11.414l3.64 3.64a.5.5 0 00.707-.707L10.707 10l3.64-3.64z"})],-1)]))],2)):(0,s.Q3)("",!0)}var x={computed:{alert(){return console.log(this.$store.state.alert),this.$store.state.alert},alertClasses(){const{type:e}=this.alert;return"success"===e?"bg-green-100 border border-green-400 text-green-700":"error"===e?"bg-red-100 border border-red-400 text-red-700":"bg-gray-100 border border-gray-400 text-gray-700"}},methods:{closeAlert(){this.$store.dispatch("hideAlert")}}};const y=(0,m.A)(x,[["render",v]]);var w=y,L={name:"App",components:{AppNavigation:f,AppAlert:w}};const P=(0,m.A)(L,[["render",l],["__scopeId","data-v-6df0dcc2"]]);var C=P,D=r(973);function A(e,t,r,o,n,l){const c=(0,s.g2)("ProductList");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(c)])}const E={class:"container mx-auto px-4 py-8 rounded-lg shadow-md"},j={class:"overflow-x-auto"},$={class:"min-w-full bg-white shadow-md rounded-lg overflow-hidden"},_={class:"py-2 px-4"},M={class:"py-2 px-4"},O={class:"py-2 px-4"},F={class:"py-2 px-4 text-right hidden lg:table-cell"},I=["onClick"],T=["onClick"],S={class:"py-2 px-4 text-right lg:hidden"},X={class:"flex justify-end gap-4"},V=["onClick"],H=["onClick"];function U(e,t,r,o,n,l){const a=(0,s.g2)("ConfirmDelete");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",E,[t[3]||(t[3]=(0,s.Lk)("h1",{class:"text-4xl font-bold mb-8 text-center text-gray-800"},"Product List",-1)),(0,s.Lk)("div",j,[(0,s.Lk)("table",$,[t[2]||(t[2]=(0,s.Lk)("thead",{class:"bg-gray-800 text-white"},[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{class:"py-2 px-4 text-left"},"Name"),(0,s.Lk)("th",{class:"py-2 px-4 text-left"},"Price"),(0,s.Lk)("th",{class:"py-2 px-4 text-left"},"Stock"),(0,s.Lk)("th",{class:"py-2 px-4 text-right"})])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.products,(e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"border-b hover:bg-gray-100"},[(0,s.Lk)("td",_,(0,c.v_)(e.name),1),(0,s.Lk)("td",M,(0,c.v_)(e.price),1),(0,s.Lk)("td",O,(0,c.v_)(e.stock),1),(0,s.Lk)("td",F,[(0,s.Lk)("button",{onClick:t=>l.editProduct(e),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-5 rounded-full mr-2"}," Edit ",8,I),(0,s.Lk)("button",{onClick:t=>l.confirmDeleteProduct(e),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-5 rounded-full"}," Delete ",8,T)]),(0,s.Lk)("td",S,[(0,s.Lk)("div",X,[(0,s.Lk)("button",{onClick:t=>l.editProduct(e),class:"text-blue-500 hover:text-blue-700"},t[0]||(t[0]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})],-1)]),8,V),(0,s.Lk)("button",{onClick:t=>l.confirmDeleteProduct(e),class:"text-red-500 hover:text-red-700"},t[1]||(t[1]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1)]),8,H)])])])))),128))])])])]),(0,s.bF)(a,{onConfirmDelete:l.deleteProduct},null,8,["onConfirmDelete"])],64)}r(4114);var q=r(4373);const B=q.A.create({baseURL:"http://localhost:8000/api/",timeout:1e4});B.interceptors.request.use((e=>e),(e=>Promise.reject(e))),B.interceptors.response.use((e=>e),(e=>(console.error("Error response:",e.response),Promise.reject(e))));var J=B;const K={key:0,class:"fixed inset-0 bg-gray-500 bg-opacity-50 flex justify-center items-center"},z={class:"bg-white p-6 rounded shadow-lg max-w-sm w-full"},N={class:"text-xl font-semibold mb-4"},R={class:"mb-4"},Q={class:"flex justify-end space-x-4"};function W(e,t,r,o,n,l){return l.confirmDelete.show?((0,s.uX)(),(0,s.CE)("div",K,[(0,s.Lk)("div",z,[(0,s.Lk)("h3",N,(0,c.v_)(l.confirmDelete.title),1),(0,s.Lk)("p",R,(0,c.v_)(l.confirmDelete.message),1),(0,s.Lk)("div",Q,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.cancelDelete&&l.cancelDelete(...e)),class:"px-4 py-2 bg-gray-400 text-white rounded"},"Cancel"),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.confirmDeleteAction&&l.confirmDeleteAction(...e)),class:"px-4 py-2 bg-red-600 text-white rounded"},"Confirm")])])])):(0,s.Q3)("",!0)}var Z={computed:{confirmDelete(){return this.$store.state.confirmDelete}},methods:{cancelDelete(){this.$store.dispatch("hideConfirmDelete")},confirmDeleteAction(){this.$emit("confirm-delete"),this.$store.dispatch("hideConfirmDelete")}}};const G=(0,m.A)(Z,[["render",W]]);var Y=G,ee={components:{ConfirmDelete:Y},data(){return{products:[],deletedProductID:null}},methods:{fetchProducts(){J.get("products/").then((e=>{this.products=e.data})).catch((e=>{console.error("There was an error fetching the products:",e),this.$store.dispatch("triggerAlert",{title:"Error",message:"There was an error when fetching the products.",type:"error"})}))},confirmDeleteProduct(e){this.deletedProductID=e.id,this.$store.dispatch("triggerConfirmDelete",{title:"Delete Product",message:`Are you sure you want to delete the product "${e.name}"?`})},async deleteProduct(){this.deletedProductID&&J.delete(`products/${this.deletedProductID}/`).then((()=>{this.$store.dispatch("triggerAlert",{title:"Success",message:"Product has been deleted successfully.",type:"success"}),this.deletedProductID=null,this.fetchProducts()})).catch((e=>{console.error("There was an error deleting the products:",e),this.$store.dispatch("triggerAlert",{title:"Error",message:"Failed to delete the product.",type:"error"})}))},editProduct(e){this.$router.push({name:"editProduct",params:{id:e.id}})}},mounted(){this.fetchProducts()}};const te=(0,m.A)(ee,[["render",U]]);var re=te,oe={name:"HomePage",components:{ProductList:re}};const se=(0,m.A)(oe,[["render",A]]);var ne=se;function le(e,t,r,o,n,l){const c=(0,s.g2)("ProductForm");return(0,s.uX)(),(0,s.Wv)(c)}const ce={class:"max-w-lg mx-auto md:my-10 bg-white py-8 px-4 md:p-8 rounded-lg shadow-md"},ae={class:"text-2xl font-bold mb-6 text-gray-800"},ie={type:"submit",class:"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"};function de(e,t,r,n,l,a){return(0,s.uX)(),(0,s.CE)("div",ce,[(0,s.Lk)("h1",ae,(0,c.v_)(n.isEdit?"Edit Product":"Create Product"),1),(0,s.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>n.submitProduct&&n.submitProduct(...e)),["prevent"])),class:"space-y-6"},[(0,s.Lk)("div",null,[t[5]||(t[5]=(0,s.Lk)("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Product Name:",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.product.name=e),id:"name",type:"text",required:"",class:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[o.Jo,n.product.name]])]),(0,s.Lk)("div",null,[t[6]||(t[6]=(0,s.Lk)("label",{for:"price",class:"block text-sm font-medium text-gray-700"},"Price:",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.product.price=e),id:"price",type:"number",required:"",class:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[o.Jo,n.product.price]])]),(0,s.Lk)("div",null,[t[7]||(t[7]=(0,s.Lk)("label",{for:"stock",class:"block text-sm font-medium text-gray-700"},"Stock:",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.product.stock=e),id:"stock",type:"number",required:"",class:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[o.Jo,n.product.stock]])]),(0,s.Lk)("div",null,[t[8]||(t[8]=(0,s.Lk)("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description:",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.product.description=e),id:"description",class:"mt-1 block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[o.Jo,n.product.description]])]),(0,s.Lk)("div",null,[(0,s.Lk)("button",ie,(0,c.v_)(n.isEdit?"Update Product":"Create Product"),1)])],32)])}var ue=r(144),pe=r(782),me={name:"ProductForm",props:{productId:{type:String,default:null}},setup(e){const t=(0,pe.Pj)(),r=(0,ue.KR)(!1),o=(0,ue.KR)({name:"",price:0,stock:0,description:""}),n=()=>{r.value?J.put(`products/${o.value.id}/`,o.value).then((()=>{t.dispatch("triggerAlert",{title:"Success",message:"Product has been update successfully.",type:"success"}),setTimeout((()=>{window.location.href="/"}),1e3)})).catch((e=>{console.error("There was an error update the products:",e),t.dispatch("triggerAlert",{title:"Error",message:"Failed to upate the product.",type:"error"})})):J.post("products/",o.value).then((()=>{t.dispatch("triggerAlert",{title:"Success",message:"Product has been submit successfully.",type:"success"}),setTimeout((()=>{window.location.href="/"}),1e3)})).catch((e=>{console.error("There was an error post the products:",e),t.dispatch("triggerAlert",{title:"Error",message:"Failed to submit the product.",type:"error"})}))},l=()=>{e.productId&&(r.value=!0,J.get(`products/${e.productId}/`).then((e=>{o.value=e.data})).catch((e=>{console.error("There was an error fetching the products:",e),t.dispatch("triggerAlert",{title:"Error",message:"There was an error when fetching the products.",type:"error"})})))};return(0,s.sV)((()=>{l()})),{isEdit:r,product:o,submitProduct:n}}};const he=(0,m.A)(me,[["render",de]]);var fe=he,ge={components:{ProductForm:fe}};const be=(0,m.A)(ge,[["render",le]]);var ke=be;function ve(e,t,r,o,n,l){const c=(0,s.g2)("ProductForm");return(0,s.uX)(),(0,s.Wv)(c,{productId:n.productId},null,8,["productId"])}var xe={components:{ProductForm:fe},data(){return{productId:this.$route.params.id}}};const ye=(0,m.A)(xe,[["render",ve]]);var we=ye;const Le=[{path:"/",name:"home",component:ne},{path:"/create",name:"createProduct",component:ke},{path:"/edit/:id",name:"editProduct",component:we}],Pe=(0,D.aE)({history:(0,D.LA)(),routes:Le});var Ce=Pe,De=(0,pe.y$)({state:{alert:{show:!1,type:"success",title:"",message:""},confirmDelete:{show:!1,title:"Are you sure?",message:"Do you really want to delete this product?"}},mutations:{setAlert(e,t){e.alert=t},clearAlert(e){e.alert={show:!1,type:"success",title:"",message:""}},setConfirmDelete(e,t){e.confirmDelete=t},clearConfirmDelete(e){e.confirmDelete={show:!1,title:"Are you sure?",message:"Do you really want to delete this product?"}}},actions:{triggerAlert({commit:e},{title:t,message:r,type:o="success"}){e("setAlert",{show:!0,title:t,message:r,type:o}),setTimeout((()=>{e("clearAlert")}),3e3)},hideAlert({commit:e}){e("clearAlert")},triggerConfirmDelete({commit:e},{title:t,message:r}){e("setConfirmDelete",{show:!0,title:t,message:r})},hideConfirmDelete({commit:e}){e("clearConfirmDelete")}},getters:{alert(e){return e.alert},confirmDelete(e){return e.confirmDelete}}});(0,o.Ef)(C).use(De).use(Ce).mount("#app")}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,o,s,n){if(!o){var l=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],n=e[d][2];for(var c=!0,a=0;a<o.length;a++)(!1&n||l>=n)&&Object.keys(r.O).every((function(e){return r.O[e](o[a])}))?o.splice(a--,1):(c=!1,n<l&&(l=n));if(c){e.splice(d--,1);var i=s();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,s,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,l=o[0],c=o[1],a=o[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(s in c)r.o(c,s)&&(r.m[s]=c[s]);if(a)var d=a(r)}for(t&&t(o);i<l.length;i++)n=l[i],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},o=self["webpackChunkproduct_frontend"]=self["webpackChunkproduct_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[504],(function(){return r(8248)}));o=r.O(o)})();
//# sourceMappingURL=app.67bba6eb.js.map